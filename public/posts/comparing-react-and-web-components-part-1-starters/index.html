<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Comparing React and Web Components. Part 1: Starters ::
        Matsu â€” Abusing Javascript and The Web platform
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="I&amp;rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&amp;rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/comparing-react-and-web-components-part-1-starters/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="Comparing React and Web Components. Part 1: Starters"/>
<meta name="twitter:description" content="I&rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started"/>



<meta property="og:title" content="Comparing React and Web Components. Part 1: Starters" />
<meta property="og:description" content="I&rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/comparing-react-and-web-components-part-1-starters/" /><meta property="og:image" content="/"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-31T13:00:00&#43;03:00" />
<meta property="article:modified_time" content="2020-07-31T13:00:00&#43;03:00" /><meta property="og:site_name" content="Matsu" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >:wq</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/posts">Blog</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/posts">Blog</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Comparing React and Web Components. Part 1: Starters</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-07-31
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <p>I&rsquo;ve always shunned away from big frameworks while working with Javascript.
I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with
everything I do.</p>
<h3 id="comparing-starter-scripts">Comparing starter scripts</h3>
<p>I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.</p>
<p>For React, the started included 262 mb of depndencies just to get started</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm create-react-app react-example
cd react-example
du -sh node_modules
&gt;&gt; 262M
</code></pre></div><p>For Lit Element, I used the OpenWC recommended starter</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm init @open-wc
cd lit-element-example
du -sh node_modules
&gt;&gt; 161M
</code></pre></div><p>That&rsquo;s just a tad bit over 100 MB worth of code more to get started with building some web applications.</p>
<p>Not to talk about the dependency tree. Create-React-App seems to not make use of the devDependencies tag of the package.json.
All of the testing packages are included as normal dependencies.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;@testing-library/jest-dom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^4.2.4&#34;</span>,
    <span style="color:#e6db74">&#34;@testing-library/react&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^9.3.2&#34;</span>,
    <span style="color:#e6db74">&#34;@testing-library/user-event&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^7.1.2&#34;</span>,
    <span style="color:#e6db74">&#34;react&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^16.13.1&#34;</span>,
    <span style="color:#e6db74">&#34;react-dom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^16.13.1&#34;</span>,
    <span style="color:#e6db74">&#34;react-scripts&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;3.4.1&#34;</span>
}
</code></pre></div><p>This won&rsquo;t cause any problems most of the time, but listing the deps clearly used only in development as devDependencies would be
welcome.</p>
<p>Most of React&rsquo;s libraries are low on dependencies, only containing in the ballpark of 2-6 deps. But then we look at the <code>react-scripts</code>
included in the create-react-app and it contains a whopping 53 dependencies! That&rsquo;s 11 times more dependencies to look after than the
other packages. With the Lodash fiasco we just had, making everyone bump their packages, having that many dependencies sure does make
the likelyhood of that happening again a lot larger.</p>
<p>If we look at the picture on the OpenWC side, the starter asks for what packages you want to include in your starter,
from packaging to testing to linting to demoing. For this purpose I chose everything but not demoing (storybook).</p>
<p>Our normal dependencies are looking great with just 2 libraries:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;lit-html&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;lit-element&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.1&#34;</span>
  }
</code></pre></div><p>And the only cross dependency here is that Lit-Element depends on lit-html, nothing else.</p>
<p>On top of that the starter has a lot more of useful packages included like linting with eslint, prettifying with prettier and husky for pre-commit hooks.
Here&rsquo;s the whole devDependencies tree or the OpenWC starter:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#e6db74">&#34;devDependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;eslint&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^6.1.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/eslint-config&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;prettier&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.4&#34;</span>,
    <span style="color:#e6db74">&#34;eslint-config-prettier&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^6.11.0&#34;</span>,
    <span style="color:#e6db74">&#34;husky&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;lint-staged&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^10.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/testing-karma&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^3.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;deepmerge&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^3.2.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/testing&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/building-rollup&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;rimraf&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.6.3&#34;</span>,
    <span style="color:#e6db74">&#34;rollup&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.3.4&#34;</span>,
    <span style="color:#e6db74">&#34;es-dev-server&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.5.0&#34;</span>
  },
</code></pre></div><p>Last we can check the build sizes both of the starters end up with.</p>
<p>I ran <code>npm run build</code> on both of these clean installations and then checked the size of the export folders.</p>
<p>For React, we are standing at a whopping 548K with the whole folder included and 472K inside the js folder.</p>
<p>For OpenWc, we end up with just 168K with the whole build folder, from which workbox seems to take most of.
If we won&rsquo;t be using workbox, we can delete these and our dist folder size drops down to just 40K.</p>
<p>That&rsquo;s quite a large size difference with just a starter level package. And considering a lot of
people use these starters as their basis, they might be shipping a lot more bloat than they think.</p>
<h3 id="bottom-line">Bottom line</h3>
<p>While the create-react-app is a great tool, it brings a lot more bloat than with alternative frameworks.
While some of this might be able to be gotten rid of with some treeshaking, a lot of projects
don&rsquo;t use technologies that allow for that, and just ship the whole bundle as is.</p>
<p>With OpenWC, developers are able to get started with a more customizable starter build, and a lot less
unnecessary bloat included. The package size for a finished build can be almost 10 times smaller than when using React.</p>
<p>In the next post we&rsquo;ll be discussing developing for both React and Web Components, and the usability of
said developed components cross framework.</p>

    </div>
    

    
      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user"><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-85452649-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
    
  </body>
</html>
