<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Matsu ">
<meta name="description" content="I&amp;rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&amp;rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/comparing-react-and-web-components-part-1-starters/" />


    <title>
        
            Comparing React and Web Components. Part 1: Starters :: Matsu  — Abusing Javascript and The Web platform
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.dede02da9537a98158079c023e83573e18127834838ef08172acce888341a797.css">






<meta itemprop="name" content="Comparing React and Web Components. Part 1: Starters">
<meta itemprop="description" content="I&rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started">
<meta itemprop="datePublished" content="2020-07-31T13:00:00+03:00" />
<meta itemprop="dateModified" content="2020-07-31T13:00:00+03:00" />
<meta itemprop="wordCount" content="642">
<meta itemprop="image" content=""/>



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Comparing React and Web Components. Part 1: Starters"/>
<meta name="twitter:description" content="I&rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started"/>




    <meta property="og:title" content="Comparing React and Web Components. Part 1: Starters" />
<meta property="og:description" content="I&rsquo;ve always shunned away from big frameworks while working with Javascript. I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with everything I do.
Comparing starter scripts I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.
For React, the started included 262 mb of depndencies just to get started" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/comparing-react-and-web-components-part-1-starters/" />
<meta property="og:image" content=""/>
<meta property="article:published_time" content="2020-07-31T13:00:00+03:00" />
<meta property="article:modified_time" content="2020-07-31T13:00:00+03:00" /><meta property="og:site_name" content="Matsu" />






    <meta property="article:published_time" content="2020-07-31 13:00:00 &#43;0300 EEST" />







<script async src="https://www.googletagmanager.com/gtag/js?id=UA-85452649-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-85452649-2');
</script>


    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">:wq</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        4 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/comparing-react-and-web-components-part-1-starters/">Comparing React and Web Components. Part 1: Starters</a>
      </h1>

      

      

      <div class="post-content">
        <p>I&rsquo;ve always shunned away from big frameworks while working with Javascript.
I used to work with React, but after gaining more experience with the language, I&rsquo;ve started to go closer to vanilla with
everything I do.</p>
<h3 id="comparing-starter-scripts">Comparing starter scripts</h3>
<p>I ran the recommended starters for both React and Lit Element, one of the most used Web Component libraries.</p>
<p>For React, the started included 262 mb of depndencies just to get started</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm create-react-app react-example
cd react-example
du -sh node_modules
&gt;&gt; 262M
</code></pre></div><p>For Lit Element, I used the OpenWC recommended starter</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm init @open-wc
cd lit-element-example
du -sh node_modules
&gt;&gt; 161M
</code></pre></div><p>That&rsquo;s just a tad bit over 100 MB worth of code more to get started with building some web applications.</p>
<p>Not to talk about the dependency tree. Create-React-App seems to not make use of the devDependencies tag of the package.json.
All of the testing packages are included as normal dependencies.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;@testing-library/jest-dom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^4.2.4&#34;</span>,
    <span style="color:#e6db74">&#34;@testing-library/react&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^9.3.2&#34;</span>,
    <span style="color:#e6db74">&#34;@testing-library/user-event&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^7.1.2&#34;</span>,
    <span style="color:#e6db74">&#34;react&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^16.13.1&#34;</span>,
    <span style="color:#e6db74">&#34;react-dom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^16.13.1&#34;</span>,
    <span style="color:#e6db74">&#34;react-scripts&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;3.4.1&#34;</span>
}
</code></pre></div><p>This won&rsquo;t cause any problems most of the time, but listing the deps clearly used only in development as devDependencies would be
welcome.</p>
<p>Most of React&rsquo;s libraries are low on dependencies, only containing in the ballpark of 2-6 deps. But then we look at the <code>react-scripts</code>
included in the create-react-app and it contains a whopping 53 dependencies! That&rsquo;s 11 times more dependencies to look after than the
other packages. With the Lodash fiasco we just had, making everyone bump their packages, having that many dependencies sure does make
the likelyhood of that happening again a lot larger.</p>
<p>If we look at the picture on the OpenWC side, the starter asks for what packages you want to include in your starter,
from packaging to testing to linting to demoing. For this purpose I chose everything but not demoing (storybook).</p>
<p>Our normal dependencies are looking great with just 2 libraries:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;lit-html&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;lit-element&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.1&#34;</span>
  }
</code></pre></div><p>And the only cross dependency here is that Lit-Element depends on lit-html, nothing else.</p>
<p>On top of that the starter has a lot more of useful packages included like linting with eslint, prettifying with prettier and husky for pre-commit hooks.
Here&rsquo;s the whole devDependencies tree or the OpenWC starter:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#e6db74">&#34;devDependencies&#34;</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#34;eslint&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^6.1.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/eslint-config&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;prettier&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.4&#34;</span>,
    <span style="color:#e6db74">&#34;eslint-config-prettier&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^6.11.0&#34;</span>,
    <span style="color:#e6db74">&#34;husky&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;lint-staged&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^10.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/testing-karma&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^3.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;deepmerge&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^3.2.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/testing&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;@open-wc/building-rollup&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;rimraf&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.6.3&#34;</span>,
    <span style="color:#e6db74">&#34;rollup&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^2.3.4&#34;</span>,
    <span style="color:#e6db74">&#34;es-dev-server&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;^1.5.0&#34;</span>
  },
</code></pre></div><p>Last we can check the build sizes both of the starters end up with.</p>
<p>I ran <code>npm run build</code> on both of these clean installations and then checked the size of the export folders.</p>
<p>For React, we are standing at a whopping 548K with the whole folder included and 472K inside the js folder.</p>
<p>For OpenWc, we end up with just 168K with the whole build folder, from which workbox seems to take most of.
If we won&rsquo;t be using workbox, we can delete these and our dist folder size drops down to just 40K.</p>
<p>That&rsquo;s quite a large size difference with just a starter level package. And considering a lot of
people use these starters as their basis, they might be shipping a lot more bloat than they think.</p>
<h3 id="bottom-line">Bottom line</h3>
<p>While the create-react-app is a great tool, it brings a lot more bloat than with alternative frameworks.
While some of this might be able to be gotten rid of with some treeshaking, a lot of projects
don&rsquo;t use technologies that allow for that, and just ship the whole bundle as is.</p>
<p>With OpenWC, developers are able to get started with a more customizable starter build, and a lot less
unnecessary bloat included. The package size for a finished build can be almost 10 times smaller than when using React.</p>
<p>In the next post we&rsquo;ll be discussing developing for both React and Web Components, and the usability of
said developed components cross framework.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        642 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2020-07-31 13:00 &#43;0300
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/comparing-react-and-web-components-part-2-components/">
                <span class="button__icon">←</span>
                <span class="button__text">Comparing React and Web Components. Part 2: Components</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/porting-libraries-to-web-components/">
                <span class="button__text">Porting Libraries to Web Components</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            <span><a href="">Matsu</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.af435e44374f1e99a669ea8cd5bb9a2fceed80588941a451bfddb66b86a67c9f40b0f417e9543a763f809aa7e9300d7b1d69bf99615810ba02ac70396d50fad5.js" integrity="sha512-r0NeRDdPHpmmaeqM1buaL87tgFiJQaRRv922a4amfJ9AsPQX6VQ6dj&#43;AmqfpMA17HWm/mWFYELoCrHA5bVD61Q=="></script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-85452649-2', 'auto');
	
	ga('send', 'pageview');
}
</script>




    </body>
</html>
